ansible-playbook 2.9.6
  config file = /home/drgeb/sandbox/git/github.com/explore_kind_argo/ansible.cfg
  configured module search path = ['/home/drgeb/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /usr/lib/python3/dist-packages/ansible
  executable location = /usr/bin/ansible-playbook
  python version = 3.8.10 (default, Jun  2 2021, 10:49:15) [GCC 9.4.0]
Using /home/drgeb/sandbox/git/github.com/explore_kind_argo/ansible.cfg as config file
setting up inventory plugins
host_list declined parsing /home/drgeb/sandbox/git/github.com/explore_kind_argo/hosts as it did not pass its verify_file() method
script declined parsing /home/drgeb/sandbox/git/github.com/explore_kind_argo/hosts as it did not pass its verify_file() method
auto declined parsing /home/drgeb/sandbox/git/github.com/explore_kind_argo/hosts as it did not pass its verify_file() method
Set default localhost to localhost
Parsed /home/drgeb/sandbox/git/github.com/explore_kind_argo/hosts inventory source with ini plugin
statically imported: /home/drgeb/sandbox/git/github.com/explore_kind_argo/playbooks/tasks/homebrew.yml
Loading callback plugin yaml of type stdout, v2.0 from /usr/lib/python3/dist-packages/ansible/plugins/callback/yaml.py

PLAYBOOK: main.yml *************************************************************************************************************************************************************
Positional arguments: playbooks/main.yml
verbosity: 5
connection: smart
timeout: 10
become_method: sudo
tags: ('all',)
inventory: ('/home/drgeb/sandbox/git/github.com/explore_kind_argo/hosts',)
forks: 5
1 plays in playbooks/main.yml

PLAY [all] *********************************************************************************************************************************************************************

TASK [Gathering Facts] *********************************************************************************************************************************************************
task path: /home/drgeb/sandbox/git/github.com/explore_kind_argo/playbooks/main.yml:3
Using module_utils file /usr/lib/python3/dist-packages/ansible/module_utils/facts/ansible_collector.py
Using module_utils file /usr/lib/python3/dist-packages/ansible/module_utils/basic.py
Using module_utils file /usr/lib/python3/dist-packages/ansible/module_utils/facts/default_collectors.py
Using module_utils file /usr/lib/python3/dist-packages/ansible/module_utils/facts/__init__.py
Using module_utils file /usr/lib/python3/dist-packages/ansible/module_utils/facts/namespace.py
Using module_utils file /usr/lib/python3/dist-packages/ansible/module_utils/facts/timeout.py
Using module_utils file /usr/lib/python3/dist-packages/ansible/module_utils/facts/collector.py
Using module_utils file /usr/lib/python3/dist-packages/ansible/module_utils/pycompat24.py
Using module_utils file /usr/lib/python3/dist-packages/ansible/module_utils/common/process.py
Using module_utils file /usr/lib/python3/dist-packages/ansible/module_utils/common/_collections_compat.py
Using module_utils file /usr/lib/python3/dist-packages/ansible/module_utils/common/__init__.py
Using module_utils file /usr/lib/python3/dist-packages/ansible/module_utils/_text.py
Using module_utils file /usr/lib/python3/dist-packages/ansible/module_utils/common/file.py
Using module_utils file /usr/lib/python3/dist-packages/ansible/module_utils/common/text/converters.py
Using module_utils file /usr/lib/python3/dist-packages/ansible/module_utils/parsing/convert_bool.py
Using module_utils file /usr/lib/python3/dist-packages/ansible/module_utils/common/sys_info.py
Using module_utils file /usr/lib/python3/dist-packages/ansible/module_utils/common/_utils.py
Using module_utils file /usr/lib/python3/dist-packages/ansible/module_utils/common/_json_compat.py
Using module_utils file /usr/lib/python3/dist-packages/ansible/module_utils/common/validation.py
Using module_utils file /usr/lib/python3/dist-packages/ansible/module_utils/common/text/__init__.py
Using module_utils file /usr/lib/python3/dist-packages/ansible/module_utils/parsing/__init__.py
Using module_utils file /usr/lib/python3/dist-packages/ansible/module_utils/common/parameters.py
Using module_utils file /usr/lib/python3/dist-packages/ansible/module_utils/six/__init__.py
Using module_utils file /usr/lib/python3/dist-packages/ansible/module_utils/common/text/formatters.py
Using module_utils file /usr/lib/python3/dist-packages/ansible/module_utils/distro/__init__.py
Using module_utils file /usr/lib/python3/dist-packages/ansible/module_utils/distro/_distro.py
Using module_utils file /usr/lib/python3/dist-packages/ansible/module_utils/common/collections.py
Using module_utils file /usr/lib/python3/dist-packages/ansible/module_utils/facts/network/iscsi.py
Using module_utils file /usr/lib/python3/dist-packages/ansible/module_utils/facts/system/user.py
Using module_utils file /usr/lib/python3/dist-packages/ansible/module_utils/facts/virtual/hpux.py
Using module_utils file /usr/lib/python3/dist-packages/ansible/module_utils/facts/virtual/freebsd.py
Using module_utils file /usr/lib/python3/dist-packages/ansible/module_utils/facts/system/pkg_mgr.py
Using module_utils file /usr/lib/python3/dist-packages/ansible/module_utils/facts/other/__init__.py
Using module_utils file /usr/lib/python3/dist-packages/ansible/module_utils/facts/system/selinux.py
Using module_utils file /usr/lib/python3/dist-packages/ansible/module_utils/facts/system/python.py
Using module_utils file /usr/lib/python3/dist-packages/ansible/module_utils/facts/system/apparmor.py
Using module_utils file /usr/lib/python3/dist-packages/ansible/module_utils/facts/virtual/netbsd.py
Using module_utils file /usr/lib/python3/dist-packages/ansible/module_utils/facts/hardware/hpux.py
Using module_utils file /usr/lib/python3/dist-packages/ansible/module_utils/facts/virtual/sunos.py
Using module_utils file /usr/lib/python3/dist-packages/ansible/module_utils/facts/network/hpux.py
Using module_utils file /usr/lib/python3/dist-packages/ansible/module_utils/facts/system/ssh_pub_keys.py
Using module_utils file /usr/lib/python3/dist-packages/ansible/module_utils/facts/hardware/freebsd.py
Using module_utils file /usr/lib/python3/dist-packages/ansible/module_utils/facts/network/freebsd.py
Using module_utils file /usr/lib/python3/dist-packages/ansible/module_utils/facts/system/caps.py
Using module_utils file /usr/lib/python3/dist-packages/ansible/module_utils/facts/hardware/sunos.py
Using module_utils file /usr/lib/python3/dist-packages/ansible/module_utils/facts/hardware/darwin.py
Using module_utils file /usr/lib/python3/dist-packages/ansible/module_utils/facts/network/netbsd.py
Using module_utils file /usr/lib/python3/dist-packages/ansible/module_utils/facts/hardware/netbsd.py
Using module_utils file /usr/lib/python3/dist-packages/ansible/module_utils/facts/network/darwin.py
Using module_utils file /usr/lib/python3/dist-packages/ansible/module_utils/facts/hardware/linux.py
Using module_utils file /usr/lib/python3/dist-packages/ansible/module_utils/facts/network/sunos.py
Using module_utils file /usr/lib/python3/dist-packages/ansible/module_utils/facts/system/chroot.py
Using module_utils file /usr/lib/python3/dist-packages/ansible/module_utils/facts/network/linux.py
Using module_utils file /usr/lib/python3/dist-packages/ansible/module_utils/facts/system/fips.py
Using module_utils file /usr/lib/python3/dist-packages/ansible/module_utils/facts/network/hurd.py
Using module_utils file /usr/lib/python3/dist-packages/ansible/module_utils/facts/hardware/hurd.py
Using module_utils file /usr/lib/python3/dist-packages/ansible/module_utils/facts/network/fc_wwn.py
Using module_utils file /usr/lib/python3/dist-packages/ansible/module_utils/facts/system/date_time.py
Using module_utils file /usr/lib/python3/dist-packages/ansible/module_utils/facts/network/nvme.py
Using module_utils file /usr/lib/python3/dist-packages/ansible/module_utils/facts/virtual/base.py
Using module_utils file /usr/lib/python3/dist-packages/ansible/module_utils/facts/system/env.py
Using module_utils file /usr/lib/python3/dist-packages/ansible/module_utils/facts/system/distribution.py
Using module_utils file /usr/lib/python3/dist-packages/ansible/module_utils/facts/virtual/linux.py
Using module_utils file /usr/lib/python3/dist-packages/ansible/module_utils/facts/virtual/dragonfly.py
Using module_utils file /usr/lib/python3/dist-packages/ansible/module_utils/facts/system/service_mgr.py
Using module_utils file /usr/lib/python3/dist-packages/ansible/module_utils/facts/hardware/base.py
Using module_utils file /usr/lib/python3/dist-packages/ansible/module_utils/facts/system/__init__.py
Using module_utils file /usr/lib/python3/dist-packages/ansible/module_utils/facts/network/base.py
Using module_utils file /usr/lib/python3/dist-packages/ansible/module_utils/facts/virtual/__init__.py
Using module_utils file /usr/lib/python3/dist-packages/ansible/module_utils/facts/virtual/openbsd.py
Using module_utils file /usr/lib/python3/dist-packages/ansible/module_utils/facts/hardware/aix.py
Using module_utils file /usr/lib/python3/dist-packages/ansible/module_utils/facts/hardware/dragonfly.py
Using module_utils file /usr/lib/python3/dist-packages/ansible/module_utils/facts/other/ohai.py
Using module_utils file /usr/lib/python3/dist-packages/ansible/module_utils/facts/network/aix.py
Using module_utils file /usr/lib/python3/dist-packages/ansible/module_utils/facts/system/dns.py
Using module_utils file /usr/lib/python3/dist-packages/ansible/module_utils/facts/hardware/__init__.py
Using module_utils file /usr/lib/python3/dist-packages/ansible/module_utils/facts/network/dragonfly.py
Using module_utils file /usr/lib/python3/dist-packages/ansible/module_utils/facts/system/local.py
Using module_utils file /usr/lib/python3/dist-packages/ansible/module_utils/facts/system/platform.py
Using module_utils file /usr/lib/python3/dist-packages/ansible/module_utils/facts/other/facter.py
Using module_utils file /usr/lib/python3/dist-packages/ansible/module_utils/facts/network/__init__.py
Using module_utils file /usr/lib/python3/dist-packages/ansible/module_utils/facts/system/cmdline.py
Using module_utils file /usr/lib/python3/dist-packages/ansible/module_utils/facts/hardware/openbsd.py
Using module_utils file /usr/lib/python3/dist-packages/ansible/module_utils/facts/network/openbsd.py
Using module_utils file /usr/lib/python3/dist-packages/ansible/module_utils/facts/system/lsb.py
Using module_utils file /usr/lib/python3/dist-packages/ansible/module_utils/facts/utils.py
Using module_utils file /usr/lib/python3/dist-packages/ansible/module_utils/facts/virtual/sysctl.py
Using module_utils file /usr/lib/python3/dist-packages/ansible/module_utils/facts/network/generic_bsd.py
Using module_utils file /usr/lib/python3/dist-packages/ansible/module_utils/facts/sysctl.py
Using module_utils file /usr/lib/python3/dist-packages/ansible/module_utils/facts/compat.py
<localhost> Attempting python interpreter discovery
<localhost> ESTABLISH LOCAL CONNECTION FOR USER: drgeb
<localhost> EXEC /bin/sh -c 'echo PLATFORM; uname; echo FOUND; command -v '"'"'/usr/bin/python'"'"'; command -v '"'"'python3.7'"'"'; command -v '"'"'python3.6'"'"'; command -v '"'"'python3.5'"'"'; command -v '"'"'python2.7'"'"'; command -v '"'"'python2.6'"'"'; command -v '"'"'/usr/libexec/platform-python'"'"'; command -v '"'"'/usr/bin/python3'"'"'; command -v '"'"'python'"'"'; echo ENDFOUND && sleep 0'
<localhost> EXEC /bin/sh -c '/usr/bin/python3 && sleep 0'
Using module file /usr/lib/python3/dist-packages/ansible/modules/system/setup.py
Pipelining is enabled.
<localhost> EXEC /bin/sh -c '/usr/bin/python3 && sleep 0'
ok: [localhost]

TASK [install homebrew] ********************************************************************************************************************************************************
task path: /home/drgeb/sandbox/git/github.com/explore_kind_argo/playbooks/tasks/homebrew.yml:2
skipping: [localhost] => changed=false 
  skip_reason: Conditional result was False
META: ran handlers

TASK [Ensure the etc/hosts file with node name for argocd exists] **************************************************************************************************************
task path: /home/drgeb/sandbox/git/github.com/explore_kind_argo/playbooks/main.yml:8
Using module_utils file /usr/lib/python3/dist-packages/ansible/module_utils/_text.py
Using module_utils file /usr/lib/python3/dist-packages/ansible/module_utils/basic.py
Using module_utils file /usr/lib/python3/dist-packages/ansible/module_utils/six/__init__.py
Using module_utils file /usr/lib/python3/dist-packages/ansible/module_utils/pycompat24.py
Using module_utils file /usr/lib/python3/dist-packages/ansible/module_utils/common/process.py
Using module_utils file /usr/lib/python3/dist-packages/ansible/module_utils/common/_collections_compat.py
Using module_utils file /usr/lib/python3/dist-packages/ansible/module_utils/common/__init__.py
Using module_utils file /usr/lib/python3/dist-packages/ansible/module_utils/common/_utils.py
Using module_utils file /usr/lib/python3/dist-packages/ansible/module_utils/common/file.py
Using module_utils file /usr/lib/python3/dist-packages/ansible/module_utils/common/text/converters.py
Using module_utils file /usr/lib/python3/dist-packages/ansible/module_utils/parsing/convert_bool.py
Using module_utils file /usr/lib/python3/dist-packages/ansible/module_utils/common/sys_info.py
Using module_utils file /usr/lib/python3/dist-packages/ansible/module_utils/common/_json_compat.py
Using module_utils file /usr/lib/python3/dist-packages/ansible/module_utils/common/validation.py
Using module_utils file /usr/lib/python3/dist-packages/ansible/module_utils/common/text/__init__.py
Using module_utils file /usr/lib/python3/dist-packages/ansible/module_utils/parsing/__init__.py
Using module_utils file /usr/lib/python3/dist-packages/ansible/module_utils/common/parameters.py
Using module_utils file /usr/lib/python3/dist-packages/ansible/module_utils/common/text/formatters.py
Using module_utils file /usr/lib/python3/dist-packages/ansible/module_utils/distro/__init__.py
Using module_utils file /usr/lib/python3/dist-packages/ansible/module_utils/distro/_distro.py
Using module_utils file /usr/lib/python3/dist-packages/ansible/module_utils/common/collections.py
Using module file /usr/lib/python3/dist-packages/ansible/modules/files/lineinfile.py
Pipelining is enabled.
<localhost> ESTABLISH LOCAL CONNECTION FOR USER: drgeb
<localhost> EXEC /bin/sh -c 'sudo -H -S -n  -u root /bin/sh -c '"'"'echo BECOME-SUCCESS-elpleskhooiqxxgqazkliltwogosksfo ; /usr/bin/python3'"'"' && sleep 0'
Using module file /usr/lib/python3/dist-packages/ansible/modules/files/lineinfile.py
Pipelining is enabled.
<localhost> EXEC /bin/sh -c 'sudo -H -S -n  -u root /bin/sh -c '"'"'echo BECOME-SUCCESS-uxzkqwjbomqqyjjeqzhqxrcjdmiasezk ; /usr/bin/python3'"'"' && sleep 0'
changed: [localhost] => (item={'ip': '127.0.0.1', 'names': ['localhost', 'argocd.local']}) => changed=true 
  ansible_loop_var: item
  backup: /etc/hosts.51017.2021-09-19@14:51:43~
  diff:
  - after: ''
    after_header: /etc/hosts (content)
    before: ''
    before_header: /etc/hosts (content)
  - after_header: /etc/hosts (file attributes)
    before_header: /etc/hosts (file attributes)
  invocation:
    module_args:
      attributes: null
      backrefs: false
      backup: true
      content: null
      create: false
      delimiter: null
      dest: /etc/hosts
      directory_mode: null
      firstmatch: false
      follow: false
      force: null
      group: null
      insertafter: null
      insertbefore: null
      line: "127.0.0.1\tlocalhost argocd.local"
      mode: null
      owner: null
      path: /etc/hosts
      regexp: "^127.0.0.1\tlocalhost argocd.local.*$"
      remote_src: null
      selevel: null
      serole: null
      setype: null
      seuser: null
      src: null
      state: present
      unsafe_writes: null
      validate: null
  item:
    ip: 127.0.0.1
    names:
    - localhost
    - argocd.local
  msg: line added
changed: [localhost] => (item={'ip': '127.0.0.1', 'names': ['localhost', 'k8s.local']}) => changed=true 
  ansible_loop_var: item
  backup: /etc/hosts.51027.2021-09-19@14:51:43~
  diff:
  - after: ''
    after_header: /etc/hosts (content)
    before: ''
    before_header: /etc/hosts (content)
  - after_header: /etc/hosts (file attributes)
    before_header: /etc/hosts (file attributes)
  invocation:
    module_args:
      attributes: null
      backrefs: false
      backup: true
      content: null
      create: false
      delimiter: null
      dest: /etc/hosts
      directory_mode: null
      firstmatch: false
      follow: false
      force: null
      group: null
      insertafter: null
      insertbefore: null
      line: "127.0.0.1\tlocalhost k8s.local"
      mode: null
      owner: null
      path: /etc/hosts
      regexp: "^127.0.0.1\tlocalhost k8s.local.*$"
      remote_src: null
      selevel: null
      serole: null
      setype: null
      seuser: null
      src: null
      state: present
      unsafe_writes: null
      validate: null
  item:
    ip: 127.0.0.1
    names:
    - localhost
    - k8s.local
  msg: line added
META: ran handlers
META: ran handlers

PLAY RECAP *********************************************************************************************************************************************************************
localhost                  : ok=2    changed=1    unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   

